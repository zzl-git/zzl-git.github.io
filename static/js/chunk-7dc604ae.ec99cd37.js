(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7dc604ae"],{"0ed3":function(t,a,e){},"38e6":function(t,a,e){"use strict";e.r(a);var l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"content"},[e("div",{staticClass:"headTitle"},[t._v("\n    信息统计\n  ")]),t._v(" "),e("div",{staticClass:"head"},[e("div",{staticClass:"gradeBox"},[e("el-select",{attrs:{placeholder:"请选择年级"},model:{value:t.grade,callback:function(a){t.grade=a},expression:"grade"}},t._l(t.gradeList,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),e("div",{staticClass:"collegeBox"},[e("el-select",{attrs:{placeholder:"请选择学院"},model:{value:t.college,callback:function(a){t.college=a},expression:"college"}},t._l(t.collegeList,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t._v(" "),e("div",{staticClass:"buttonBox"},[e("el-button",{attrs:{type:"primary"},on:{click:t.hendleData}},[t._v("搜索")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.allData}},[t._v("全部信息")])],1)]),t._v(" "),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"atudentList"},[e("student-list",{ref:"studentList",attrs:{showData:t.showData},on:{handleClick:t.handleClick,delData:t.delData}})],1),t._v(" "),e("div",{staticClass:"pagination"},[t.showPagination?e("el-pagination",{attrs:{background:"",layout:"total,prev, pager, next","page-size":t.page,"pager-count":5,"current-page":t.count,total:t.total},on:{"current-change":t.currentChange}}):t._e()],1)])},i=[],n=e("75fc"),o=(e("20d6"),e("db72")),s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"studentTable"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.showData,border:""}},[e("el-table-column",{attrs:{type:"selection",align:"center",width:"55"}}),t._v(" "),e("el-table-column",{attrs:{prop:"name",label:"姓名",align:"center",width:"100"}}),t._v(" "),e("el-table-column",{attrs:{prop:"age",label:"年龄",align:"center",width:"100"}}),t._v(" "),e("el-table-column",{attrs:{prop:"college",label:"学院",align:"center",width:"150"}}),t._v(" "),e("el-table-column",{attrs:{prop:"grade",label:"年级",align:"center",width:"100"}}),t._v(" "),e("el-table-column",{attrs:{prop:"address",label:"地址",align:"center","min-width":"300"}}),t._v(" "),e("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"220"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.openClick(a.row)}}},[t._v("查看")]),t._v(" "),e("el-button",{attrs:{type:"success",size:"small"},on:{click:function(e){return t.handleClick(a.row)}}},[t._v("编辑")]),t._v(" "),e("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(e){return t.deleteData(a.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),e("el-dialog",{attrs:{title:"信息列表",visible:t.dialogFormVisible,width:"60%"},on:{"update:visible":function(a){t.dialogFormVisible=a}}},[e("el-form",{attrs:{model:t.formData,"label-width":"80px"}},[e("el-form-item",{attrs:{label:"姓名",prop:"name"}},[e("el-input",{attrs:{disabled:t.isEdit},model:{value:t.formData.name,callback:function(a){t.$set(t.formData,"name",a)},expression:"formData.name"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"年龄",prop:"age"}},[e("el-input",{attrs:{disabled:t.isEdit},model:{value:t.formData.age,callback:function(a){t.$set(t.formData,"age",a)},expression:"formData.age"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"年级",prop:"grade"}},[e("el-input",{attrs:{disabled:t.isEdit},model:{value:t.formData.grade,callback:function(a){t.$set(t.formData,"grade",a)},expression:"formData.grade"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"学院",prop:"college"}},[e("el-input",{attrs:{disabled:t.isEdit},model:{value:t.formData.college,callback:function(a){t.$set(t.formData,"college",a)},expression:"formData.college"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"地址",prop:"address"}},[e("el-input",{attrs:{disabled:t.isEdit},model:{value:t.formData.address,callback:function(a){t.$set(t.formData,"address",a)},expression:"formData.address"}})],1),t._v(" "),e("el-form-item",{attrs:{label:"说明",prop:"explain"}},[e("el-input",{attrs:{disabled:t.isEdit,type:"textarea",autosize:!0},model:{value:t.formData.explain,callback:function(a){t.$set(t.formData,"explain",a)},expression:"formData.explain"}})],1)],1),t._v(" "),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:t.editData}},[t._v("确 定")])],1)],1)],1)},r=[],d=(e("7f7f"),{name:"Student_List",data:function(){return{isEdit:!0,openId:"",dialogFormVisible:!1,formData:{age:"",college:"",grade:"",name:"",address:"",explain:""}}},props:["showData"],created:function(){},methods:{openClick:function(t){this.dialogFormVisible=!0,this.isEdit=!0,this.formData={age:t.age,college:t.college,grade:t.grade,name:t.name,address:t.address,explain:t.explain}},handleClick:function(t){this.dialogFormVisible=!0,this.openId=t.id,this.isEdit=!1,this.formData={age:t.age,college:t.college,grade:t.grade,name:t.name,address:t.address,explain:t.explain}},editData:function(){var t={id:this.openId,age:this.formData.age,college:this.formData.college,grade:this.formData.grade,name:this.formData.name,address:this.formData.address,explain:this.formData.explain};this.$emit("handleClick",t),this.dialogFormVisible=!1},deleteData:function(t){var a=t.id;this.$emit("delData",a)}}}),c=d,u=(e("947a"),e("2877")),h=Object(u["a"])(c,s,r,!1,null,"f7a7f41a",null),f=h.exports,g=e("b775");function m(t){return Object(g["a"])({url:"/zz_admin/schoolStudent/list",method:"get",params:t})}var p=e("2f62"),v={components:{StudentList:f},name:"School_info",data:function(){return{showPagination:!0,grade:"",college:"",showData:[],data:[],loading:!0,count:1,page:10,total:null}},created:function(){this.getData()},computed:Object(o["a"])({},Object(p["b"])(["gradeList","collegeList"])),methods:{hendleData:function(){this.hendleShowData()},filterData:function(t){var a=this;this.showData=t.filter((function(t,e){return e>=a.page*(a.count-1)&&e<a.page*a.count})),this.total=t.length},getData:function(){var t=this;m().then((function(a){t.data=a.data.items,t.total=t.data.length,t.filterData(t.data),t.loading=!1}))},handleClick:function(t){var a=this.showData.findIndex((function(a){return a.id==t.id})),e=this.data.findIndex((function(a){return a.id==t.id}));this.data[e]=t,this.$set(this.showData,a,t)},delData:function(t){var a=this;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.loading=!0;var e=a.showData.findIndex((function(a){return a.id==t})),l=a.data.findIndex((function(a){return a.id==t}));a.showData.splice(e,1),a.data.splice(l,1),a.grade||a.college?a.hendleShowData(a.count):a.filterData(a.data),a.loading=!1,a.$message({type:"success",message:"删除成功!"})})).catch((function(){a.$message({type:"info",message:"已取消删除"})}))},allData:function(){this.showData=this.data,this.count=1,this.total=this.data.showData,this.grade="",this.college="",this.filterData(this.showData)},currentChange:function(t){this.count=t,this.grade||this.college?this.hendleShowData(t):this.filterData(this.data)},hendleShowData:function(){var t,a=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.showPagination=!1,this.showData=[];var l=this.data.filter((function(t,e){return!a.grade||t.grade==a.grade})).filter((function(t){return!a.college||t.college==a.college}));(t=this.showData).push.apply(t,Object(n["a"])(l)),this.count=e,this.filterData(this.showData),this.showPagination=!0}}},b=v,D=(e("3c75"),Object(u["a"])(b,l,i,!1,null,"b22db294",null));a["default"]=D.exports},"3c75":function(t,a,e){"use strict";var l=e("0ed3"),i=e.n(l);i.a},"756a":function(t,a,e){},"947a":function(t,a,e){"use strict";var l=e("756a"),i=e.n(l);i.a}}]);